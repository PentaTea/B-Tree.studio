(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{745:function(t,a,s){t.exports=s.p+"assets/img/20200629191625.903944a2.png"},841:function(t,a,s){"use strict";s.r(a);var r=s(6),n=Object(r.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"javascript-学习笔记"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#javascript-学习笔记"}},[t._v("#")]),t._v(" JavaScript 学习笔记")]),t._v(" "),r("h2",{attrs:{id:"引擎"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#引擎"}},[t._v("#")]),t._v(" 引擎")]),t._v(" "),r("p",[t._v("如 v8 引擎，")]),t._v(" "),r("p",[r("img",{attrs:{src:s(745),alt:""}})]),t._v(" "),r("p",[t._v("其由两部分组成")]),t._v(" "),r("ul",[r("li",[t._v("内存堆：内存分配的地方")]),t._v(" "),r("li",[t._v("调用栈：代码执行的地方")])]),t._v(" "),r("p",[t._v("在运行时，根据环境会有其他相关 API (nodeAPIs,WebAPIs) 以及事件循环，回调队列等")]),t._v(" "),r("h2",{attrs:{id:"调用栈（执行栈）"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#调用栈（执行栈）"}},[t._v("#")]),t._v(" 调用栈（执行栈）")]),t._v(" "),r("p",[t._v("调用栈记录了当前程序运行的位置，存储运行时创建的所有执行上下文")]),t._v(" "),r("p",[t._v("JavaScript 脚本开始执行时，引擎会创建全局执行上下文并压入调用栈")]),t._v(" "),r("p",[t._v("当遇到对象定义，会将其记录到当前上下文中，遇到函数调用，会为该函数创建新的执行上下文并压入栈顶")]),t._v(" "),r("p",[t._v("当函数执行结束时，当前执行上下文出栈并释放相关空间")]),t._v(" "),r("p",[t._v("调用栈是 LIFO 的栈，所以也会发生栈溢出的情况")]),t._v(" "),r("h2",{attrs:{id:"执行上下文"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#执行上下文"}},[t._v("#")]),t._v(" 执行上下文")]),t._v(" "),r("ul",[r("li",[t._v("全局执行上下文")]),t._v(" "),r("li",[t._v("函数执行上下文")]),t._v(" "),r("li",[t._v("Eval 函数执行上下文")])]),t._v(" "),r("h3",{attrs:{id:"创建阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建阶段"}},[t._v("#")]),t._v(" 创建阶段")]),t._v(" "),r("p",[t._v("在本阶段中会发生：")]),t._v(" "),r("ul",[r("li",[t._v("this 值的确定")]),t._v(" "),r("li",[t._v("创建词法环境")]),t._v(" "),r("li",[t._v("创建变量环境")])]),t._v(" "),r("div",{staticClass:"language-JS extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[t._v("ExecutionContext "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ThisBinding "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" value"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  LexicalEnvironment "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  VariableEnvironment "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),r("h4",{attrs:{id:"this-绑定"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#this-绑定"}},[t._v("#")]),t._v(" this 绑定")]),t._v(" "),r("p",[t._v("全局执行上下文中，this 的值指向全局对象")]),t._v(" "),r("p",[t._v("函数执行上下文中，this 的值取决于函数如何被调用")]),t._v(" "),r("h4",{attrs:{id:"词法环境（周围状态）"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#词法环境（周围状态）"}},[t._v("#")]),t._v(" 词法环境（周围状态）")]),t._v(" "),r("p",[t._v("词法环境是一种持有 "),r("code",[t._v("标识符")]),t._v(" "),r("mjx-container",{staticClass:"MathJax",attrs:{jax:"SVG"}},[r("svg",{staticStyle:{"vertical-align":"-0.025ex"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"3.706ex",height:"1.181ex",viewBox:"0 -511 1638 522"}},[r("g",{attrs:{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"matrix(1 0 0 -1 0 0)"}},[r("g",{attrs:{"data-mml-node":"math"}},[r("g",{attrs:{"data-mml-node":"mo"}},[r("path",{attrs:{"data-c":"27FC",d:"M95 155V109Q95 83 92 73T75 63Q61 63 58 74T54 130Q54 140 54 180T55 250Q55 421 57 425Q61 437 75 437Q88 437 91 428T95 393V345V270H1444Q1328 357 1301 493Q1301 494 1301 496T1300 499Q1300 511 1317 511H1320Q1329 511 1332 510T1338 506T1341 497T1344 481T1352 456Q1374 389 1425 336T1544 261Q1553 258 1553 250Q1553 244 1548 241T1524 231T1486 212Q1445 186 1415 152T1370 85T1349 35T1341 4Q1339 -6 1336 -8T1320 -11Q1300 -11 1300 0Q1300 7 1305 25Q1337 151 1444 230H95V155Z"}})])])])])]),t._v(" "),r("code",[t._v("变量")]),t._v(" 映射的结构， "),r("code",[t._v("标识符")]),t._v(" 指的是变量，函数的名字， "),r("code",[t._v("变量")]),t._v(" 是对"),r("strong",[t._v("实际对象")]),t._v("或"),r("strong",[t._v("原始数据")]),t._v("的引用")],1),t._v(" "),r("p",[t._v("词法环境的两个组件：")]),t._v(" "),r("ol",[r("li",[t._v("环境记录器 存储变量和函数声明的实际位置")]),t._v(" "),r("li",[t._v("外部环境的引用 访问其父级词法环境（作用域）")])]),t._v(" "),r("p",[t._v("词法环境的两种类型：")]),t._v(" "),r("ol",[r("li",[t._v("全局环境中"),r("strong",[t._v("没有")]),t._v("外部环境引用 (null) ，拥有的 "),r("code",[t._v("对象环境记录器")]),t._v(" 定义全局关系")]),t._v(" "),r("li",[t._v("函数环境中"),r("strong",[t._v("有")]),t._v("外部环境引用（全局或其他外部函数），拥有的 "),r("code",[t._v("声明式环境记录器")]),t._v(" 存储变量，函数和参数")])]),t._v(" "),r("blockquote",[r("p",[t._v("声明式环境记录器还包含了给函数的 arguments 对象和其 length")])]),t._v(" "),r("div",{staticClass:"language-JS extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[t._v("GlobalExectionContext "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  LexicalEnvironment"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    EnvironmentRecord"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Object"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绑定标识符")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    outer"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nFunctionExectionContext "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  LexicalEnvironment"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    EnvironmentRecord"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Declarative"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绑定标识符")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    outer"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Global or outer "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" environment reference"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),r("h4",{attrs:{id:"变量环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#变量环境"}},[t._v("#")]),t._v(" 变量环境")]),t._v(" "),r("p",[t._v("变量环境也是一个词法环境，它的环境记录器持有"),r("strong",[t._v("变量声明语句")]),t._v("在执行上下文中创建的绑定关系。")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("词法环境")]),t._v(" "),r("th",[t._v("变量环境")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("存储函数声明和变量（let 和 const）绑定")]),t._v(" "),r("td",[t._v("只用来存储 var 变量绑定")])])])]),t._v(" "),r("p",[t._v("样例：")]),t._v(" "),r("div",{staticClass:"language-JS extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" b "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" c"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("multiply")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" f")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" g "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" e "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" f "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" g"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nc "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("multiply")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),r("p",[t._v("遇到调用函数 multiply 时创建的执行上下文：")]),t._v(" "),r("div",{staticClass:"language-JS extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[t._v("GlobalExectionContext "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  ThisBinding"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Global Object"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this 指向")]),t._v("\n\n  LexicalEnvironment"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    EnvironmentRecord"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Object"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在这里绑定标识符")]),t._v("\n      a"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("uninitialized"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// let a = 20;")]),t._v("\n      b"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("uninitialized"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const b = 30;")]),t._v("\n      multiply"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("func"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// function multiply(e, f) {...}")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    outer"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 无外部环境引用")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  VariableEnvironment"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    EnvironmentRecord"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Object"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在这里绑定标识符")]),t._v("\n      c"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// var c;")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    outer"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nFunctionExectionContext "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ThisBinding"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Global Object"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this 指向")]),t._v("\n\n  LexicalEnvironment"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    EnvironmentRecord"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Declarative"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在这里绑定标识符")]),t._v("\n      Arguments"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" length"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 参数")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    outer"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("GlobalLexicalEnvironment"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 外部环境引用")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\nVariableEnvironment"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    EnvironmentRecord"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Declarative"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在这里绑定标识符")]),t._v("\n      g"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//var g = 20;")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    outer"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("GlobalLexicalEnvironment"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),r("p",[t._v("引擎检出变量和函数声明，词法环境仅仅记录 let 与 const 变量，并没有关联任何值，而变量环境将 "),r("code",[t._v("var")]),t._v("  变量设为 "),r("code",[t._v("undefined")])]),t._v(" "),r("p",[t._v("所以可以在声明之前访问 "),r("code",[t._v("var")]),t._v("  定义的变量")]),t._v(" "),r("p",[t._v("这就是变量提升")]),t._v(" "),r("p",[t._v("变量提升的原因：")]),t._v(" "),r("ol",[r("li",[t._v("提高性能")]),t._v(" "),r("li",[t._v("增加容错性")])]),t._v(" "),r("h3",{attrs:{id:"执行阶段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#执行阶段"}},[t._v("#")]),t._v(" 执行阶段")]),t._v(" "),r("p",[t._v("引擎会完成变量分配，执行代码")]),t._v(" "),r("h2",{attrs:{id:"事件循环"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#事件循环"}},[t._v("#")]),t._v(" 事件循环")]),t._v(" "),r("p",[t._v("javascript 是单线程语言，可以用同步的方法去模拟异步")]),t._v(" "),r("p",[t._v("不同 JS 引擎的宿主环境都拥有的一个内置执行机制")]),t._v(" "),r("p",[t._v("某些异步操作向环境 API 注册相关监听，触发时会把相关函数入队进回调队列")]),t._v(" "),r("p",[t._v("事件循环会监控调用栈和回调队列，如果调用栈是空的，它就会执行回调队列的出队操作，然后将相关函数压入到调用栈中，然后运行它。")]),t._v(" "),r("h3",{attrs:{id:"异步方式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#异步方式"}},[t._v("#")]),t._v(" 异步方式")]),t._v(" "),r("h4",{attrs:{id:"回调"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#回调"}},[t._v("#")]),t._v(" 回调")]),t._v(" "),r("p",[t._v("最常用基础的异步方式")]),t._v(" "),r("h4",{attrs:{id:"promise"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#promise"}},[t._v("#")]),t._v(" Promise")]),t._v(" "),r("p",[t._v("一个容器，保存着某个未来才会结束的事件的结果")]),t._v(" "),r("p",[t._v("Promise 对象特性：")]),t._v(" "),r("ol",[r("li",[t._v("状态不受外界影响，拥有三种状态： "),r("code",[t._v("pending")]),t._v(" （进行中）、 "),r("code",[t._v("fulfilled")]),t._v(" （已成功）和  "),r("code",[t._v("rejected")]),t._v(" （已失败）")]),t._v(" "),r("li",[t._v("状态凝固并存续，称为  "),r("code",[t._v("resolved")]),t._v(" （已定型）")])]),t._v(" "),r("h4",{attrs:{id:"async-await"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#async-await"}},[t._v("#")]),t._v(" async/await")]),t._v(" "),r("p",[t._v("async function 定义一个返回 AsyncFunction 对象的异步函数。")]),t._v(" "),r("p",[t._v("异步函数是指通过事件循环异步执行的函数，它会返回一个 Promise")]),t._v(" "),r("p",[t._v("await 只能使用在 async function 中，允许你同步等待一个 Promise")]),t._v(" "),r("h2",{attrs:{id:"数据类型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[t._v("#")]),t._v(" 数据类型")]),t._v(" "),r("h3",{attrs:{id:"基本类型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#基本类型"}},[t._v("#")]),t._v(" 基本类型")]),t._v(" "),r("p",[r("code",[t._v("非对象")]),t._v("  ，  "),r("code",[t._v("无方法")]),t._v(" \n 7 种基本类型：  "),r("code",[t._v("string")]),t._v("  ，  "),r("code",[t._v("number")]),t._v("  ，  "),r("code",[t._v("bigint")]),t._v("  ，  "),r("code",[t._v("boolean")]),t._v("  ，  "),r("code",[t._v("null")]),t._v("  ，  "),r("code",[t._v("undefined")]),t._v("  ，  "),r("code",[t._v("symbol")]),t._v(" \n 基本类型的值"),r("strong",[t._v("不可改变")])]),t._v(" "),r("h4",{attrs:{id:"基本类型包装对象"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#基本类型包装对象"}},[t._v("#")]),t._v(" 基本类型包装对象")]),t._v(" "),r("ul",[r("li",[t._v("字符串基本类型  "),r("code",[t._v("String")])]),t._v(" "),r("li",[t._v("数值基本类型  "),r("code",[t._v("Number")])]),t._v(" "),r("li",[t._v("大整数基本类型  "),r("code",[t._v("BigInt")])]),t._v(" "),r("li",[t._v("布尔基本类型  "),r("code",[t._v("Boolean")])]),t._v(" "),r("li",[t._v("字面量基本类型  "),r("code",[t._v("Symbol")]),t._v(" \n 用 valueOf () 方法返回基本类型值")])]),t._v(" "),r("h3",{attrs:{id:"引用类型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#引用类型"}},[t._v("#")]),t._v(" 引用类型")]),t._v(" "),r("ul",[r("li",[t._v("对象  "),r("code",[t._v("Object")])]),t._v(" "),r("li",[t._v("数组  "),r("code",[t._v("Array")])]),t._v(" "),r("li",[t._v("函数  "),r("code",[t._v("Function")])])]),t._v(" "),r("h3",{attrs:{id:"区别"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[t._v("#")]),t._v(" 区别")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th"),t._v(" "),r("th",[t._v("基本类型")]),t._v(" "),r("th",[t._v("引用类型")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("本质")]),t._v(" "),r("td",[r("strong",[t._v("值")])]),t._v(" "),r("td",[r("strong",[t._v("指针")])])]),t._v(" "),r("tr",[r("td",[t._v("占用空间")]),t._v(" "),r("td",[t._v("固定")]),t._v(" "),r("td",[t._v("不固定")])]),t._v(" "),r("tr",[r("td",[t._v("存储位置")]),t._v(" "),r("td",[t._v("调用栈")]),t._v(" "),r("td",[t._v("堆（栈中存有指针）")])]),t._v(" "),r("tr",[r("td",[t._v("检测类型")]),t._v(" "),r("td",[t._v("typeof")]),t._v(" "),r("td",[t._v("instanceof")])])])]),t._v(" "),r("h2",{attrs:{id:"数字"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#数字"}},[t._v("#")]),t._v(" 数字")]),t._v(" "),r("p",[t._v("JavaScript 数字全部是双精度规范浮点数")]),t._v(" "),r("p",[t._v("所以会有")]),t._v(" "),r("div",{staticClass:"language-JS extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//0.30000000000000004")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])])]),r("p",[t._v("只要记住数学操作一定要用库就行")]),t._v(" "),r("h2",{attrs:{id:"this-call-apply-bind"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#this-call-apply-bind"}},[t._v("#")]),t._v(" this, call, apply, bind")]),t._v(" "),r("h3",{attrs:{id:"this"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#this"}},[t._v("#")]),t._v(" this")]),t._v(" "),r("p",[t._v("this 永远指向最后调用它的那个对象，因为在调用时才会"),r("a",{attrs:{href:"/blog/post/js%E5%8E%9F%E7%90%86-%E8%BF%90%E8%A1%8C#this-%E7%BB%91%E5%AE%9A"}},[t._v("创建执行上下文并绑定 this")])]),t._v(" "),r("h3",{attrs:{id:"改变-this-指向"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#改变-this-指向"}},[t._v("#")]),t._v(" 改变 this 指向")]),t._v(" "),r("ul",[r("li",[t._v("使用 ES6 的箭头函数")]),t._v(" "),r("li",[t._v("在函数内部使用 _this = this")]),t._v(" "),r("li",[t._v("使用 apply、call、bind")]),t._v(" "),r("li",[t._v("new 实例化一个对象")])]),t._v(" "),r("h4",{attrs:{id:"箭头函数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#箭头函数"}},[t._v("#")]),t._v(" 箭头函数")]),t._v(" "),r("p",[t._v("箭头函数的 this 始终指向函数定义时的 this，而非执行时")]),t._v(" "),r("h4",{attrs:{id:"this-this"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#this-this"}},[t._v("#")]),t._v(" _this = this")]),t._v(" "),r("p",[t._v("将上层执行上下文中的 this 保存并在其他地方使用")]),t._v(" "),r("h4",{attrs:{id:"apply"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#apply"}},[t._v("#")]),t._v(" apply()")]),t._v(" "),r("p",[r("code",[t._v("function.apply(thisArg, [argsArray])")])]),t._v(" "),r("p",[t._v("指定函数的 this 值，提供"),r("strong",[t._v("参数数组")]),t._v("并"),r("strong",[t._v("运行")])]),t._v(" "),r("h4",{attrs:{id:"call"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#call"}},[t._v("#")]),t._v(" call()")]),t._v(" "),r("p",[r("code",[t._v("function.call(thisArg[, arg1[, arg2[, ...]]])")])]),t._v(" "),r("p",[t._v("指定函数的 this 值，提供"),r("strong",[t._v("参数表")]),t._v("并"),r("strong",[t._v("运行")])]),t._v(" "),r("h4",{attrs:{id:"bind"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bind"}},[t._v("#")]),t._v(" bind()")]),t._v(" "),r("p",[r("code",[t._v("function.bind(thisArg[, arg1[, arg2[, ...]]])")])]),t._v(" "),r("p",[t._v("指定函数的 this 值，并提供"),r("strong",[t._v("参数表")]),t._v("并"),r("strong",[t._v("返回新函数")])]),t._v(" "),r("h2",{attrs:{id:"原型链"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#原型链"}},[t._v("#")]),t._v(" 原型链")]),t._v(" "),r("h3",{attrs:{id:"prototype-和-contructor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prototype-和-contructor"}},[t._v("#")]),t._v(" prototype 和 contructor")]),t._v(" "),r("p",[r("code",[t._v("prototype")]),t._v(" : 指向函数的原型对象，这是一个显式原型属性，只有函数才拥有该属性。")]),t._v(" "),r("p",[r("code",[t._v("contructor")]),t._v(" : 指向原型对象的构造函数。")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/9/6/16d04cd034743d31",alt:"img"}})]),t._v(" "),r("h3",{attrs:{id:"proto"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#proto"}},[t._v("#")]),t._v(" _proto_")]),t._v(" "),r("p",[t._v("每个对象都有 "),r("code",[t._v("_proto_")]),t._v(" ，它是隐式原型属性，指向了创建该对象的构造函数原型。")]),t._v(" "),r("p",[t._v("由于 js 中是没有类的概念，而为了实现继承，通过 "),r("code",[t._v("_proto_")]),t._v(" 将对象和原型联系起来组成原型链，就可以让对象访问到不属于自己的属性。")]),t._v(" "),r("h3",{attrs:{id:"函数和对象之间的关系"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#函数和对象之间的关系"}},[t._v("#")]),t._v(" 函数和对象之间的关系")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://camo.githubusercontent.com/8b5b047a703f91fe9b5a0374a5d79164dfeb2dd1/68747470733a2f2f7777772e6469646968656e672e636f6d2f32303139303930352f313536373639383539383631382e6a7067",alt:"img"}})]),t._v(" "),r("h3",{attrs:{id:"原型对象之间的关系"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#原型对象之间的关系"}},[t._v("#")]),t._v(" 原型对象之间的关系")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/9/6/16d025afb49e4db1",alt:"img"}})]),t._v(" "),r("h3",{attrs:{id:"原型链图"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#原型链图"}},[t._v("#")]),t._v(" 原型链图")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://camo.githubusercontent.com/26b8dff410544185fda9510d34ea8a8fe6e90bfe/68747470733a2f2f7777772e6469646968656e672e636f6d2f32303139303930352f313536373639393338373339342e6a7067",alt:"img"}})]),t._v(" "),r("h3",{attrs:{id:"总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),r("ul",[r("li",[t._v("Function 和 Object 都是函数")]),t._v(" "),r("li",[t._v("_proto_ 将对象和原型连接起来组成了原型链")]),t._v(" "),r("li",[t._v("所有的函数的 _proto_ 都指向 Function 原型对象")]),t._v(" "),r("li",[t._v("原型链最终指向的是 Object.prototype -> null")])]),t._v(" "),r("p",[t._v("所以利用原型链可以让函数访问到其他关系函数的数据（继承）")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/9/6/16d04ccc5d03fbc7",alt:"img"}})]),t._v(" "),r("p",[t._v("参考："),r("a",{attrs:{href:"https://juejin.im/post/5d713de26fb9a06ad3474c15",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.im/post/5d713de26fb9a06ad3474c15"),r("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);