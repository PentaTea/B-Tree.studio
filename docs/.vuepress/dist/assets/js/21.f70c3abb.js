(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{391:function(t,e,i){},470:function(t,e,i){"use strict";var n=i(391);i.n(n).a},487:function(t,e,i){"use strict";i.r(e);var n=i(389),s=(i(441),i(442)),a=i(443),o=i(142),r=i(198),h=i.n(r),l=i(444),c={name:"Three",data:function(){return{threeId:"three-"+this._uid,camera:null,scene:null,renderer:null,object:null,manager:null,container:null,loadingInstance:null,stats:null,controls:null,resetDisply:0,widthDisplay:0,autoRotateSpeed:-2}},props:{conf:{type:String,default:""},height:{type:String,default:"100px"},width:{type:String,default:"100%"}},watch:{autoRotateSpeed:function(){this.controls.autoRotateSpeed=this.autoRotateSpeed},widthDisplay:function(){this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.render(this.scene,this.camera)}},mounted:function(){this.init(),this.load(),this.animate()},methods:{init:function(){var t=this;this.container=document.getElementById(this.threeId),this.height&&this.container.parentNode.setAttribute("height",this.height),this.width&&this.container.parentNode.setAttribute("width",this.width),this.stats=new a.a,this.stats.domElement.style.position="relative",this.stats.domElement.style.left="0px",this.stats.domElement.style.top="0px",this.stats.domElement.style.zIndex="10",this.stats.domElement.style.display="none",this.container.appendChild(this.stats.domElement),this.scene=new n.Scene;var e=new n.PointLight(16777215,0);e.position.set(10,10,10),this.scene.add(e);var i=new n.PointLight(16777215,3);i.position.set(-5,-5,-5),this.scene.add(i);var s=new n.PointLight(16777215,3);s.position.set(5,5,5),this.scene.add(s);var r=new n.AmbientLight(2236962);this.scene.add(r),this.camera=new n.PerspectiveCamera(50,this.container.clientWidth/this.container.clientHeight,.001,1e3),this.camera.position.set(2,0,0),this.camera.lookAt(this.scene.position),this.renderer=new n.WebGLRenderer({antialias:!0}),this.renderer.toneMapping=n.ACESFilmicToneMapping,this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setClearColor(16777215,1),this.renderer.render(this.scene,this.camera),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.top="0px",this.container.appendChild(this.renderer.domElement),this.controls=new n.OrbitControls(this.camera,this.renderer.domElement),this.controls.autoRotate=!0,this.controls.autoRotateSpeed=this.autoRotateSpeed,this.controls.enableDamping=!0,this.controls.screenSpacePanning=!0,this.controls.saveState(),this.controls.update(),this.renderer.render(this.scene,this.camera),this.manager=new n.LoadingManager((function(){t.scene.add(t.object),t.renderer.render(t.scene,t.camera),t.stats.domElement.style.display="",t.loadingInstance.close()}),(function(t,e,i){var n=e/i*100;console.log(Math.round(n,2)+"% downloaded \n"+t)}),(function(t){console.log(t)})),this.manager.onStart=function(){t.loadingInstance=o.Loading.service({target:t.container})}},animate:function(){requestAnimationFrame(this.animate),this.widthDisplay=this.container.clientWidth,this.renderer.render(this.scene,this.camera),this.stats.update(),this.controls.update()},load:function(){var t=this,e="/assets/model/",i=new s.a(this.manager);h.a.get(e+this.conf).then((function(n){var s=l.load(n.data),a=s.file,o=void 0===a?"RapberryPiZero.glb":a,r=s.type,h=void 0===r?"glTF":r,c=s.position,d=void 0===c?{x:0,y:0,z:0}:c,p=s.autoRotateSpeed,u=void 0===p?-2:p;switch(h){case"glTF":i.load(e+o,(function(e){console.log(e),t.object=e.scene,t.object.position.set(d.x,d.y,d.z),t.autoRotateSpeed=u}))}}))},FristClick:function(){this.autoRotateSpeed=0,this.resetDisply=1},Reset:function(){this.controls.reset(),this.resetDisply=0}}},d=(i(470),i(12)),p=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"three"},[i("div",{class:[t.threeId,"three-data"]}),t._v(" "),i("div",{staticClass:"three-control"},[i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.resetDisply,expression:"resetDisply"}],staticClass:"three-control-reset"},[i("el-button",{attrs:{plain:""},on:{click:t.Reset}},[t._v("重置视角")])],1)])],1),t._v(" "),i("div",{staticClass:"three-container",attrs:{id:t.threeId},on:{mousedown:t.FristClick,touchstart:t.FristClick}})])}),[],!1,null,null,null);e.default=p.exports}}]);