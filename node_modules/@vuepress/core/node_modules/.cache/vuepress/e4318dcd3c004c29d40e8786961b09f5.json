{"remainingRequest":"/Users/zhangjiaping/Desktop/project/b-tree/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/zhangjiaping/Desktop/project/b-tree/node_modules/vuepress-plugin-table-of-contents/lib/components/TableOfContents.js","dependencies":[{"path":"/Users/zhangjiaping/Desktop/project/b-tree/node_modules/vuepress-plugin-table-of-contents/lib/components/TableOfContents.js","mtime":1582738937924},{"path":"/Users/zhangjiaping/Desktop/project/b-tree/node_modules/cache-loader/dist/cjs.js","mtime":1582616623457},{"path":"/Users/zhangjiaping/Desktop/project/b-tree/node_modules/babel-loader/lib/index.js","mtime":1582616623245}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKdmFyIFRhYmxlT2ZDb250ZW50cyA9IHsKICBuYW1lOiAnVGFibGVPZkNvbnRlbnRzJywKICBwcm9wczogewogICAgaW5jbHVkZUxldmVsOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFsyLCAzXTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGhlYWRlcnM6IGZ1bmN0aW9uIGhlYWRlcnMoKSB7CiAgICAgIGlmICh0aGlzLiRwYWdlICYmIHRoaXMuJHBhZ2UuaGVhZGVycykgewogICAgICAgIHZhciBtaW5MZXZlbCA9IHRoaXMuaW5jbHVkZUxldmVsWzBdOwogICAgICAgIHZhciBtYXhMZXZlbCA9IHRoaXMuaW5jbHVkZUxldmVsWzFdOwoKICAgICAgICB2YXIgcHJvY2Vzc0hlYWRlcnMgPSBmdW5jdGlvbiBwcm9jZXNzSGVhZGVycyhoZWFkZXJzKSB7CiAgICAgICAgICB2YXIgcm9vdExldmVsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBtaW5MZXZlbDsKICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSAhPT0gaGVhZGVycy5sZW5ndGg7KSB7CiAgICAgICAgICAgIHZhciBuZXh0Um9vdE9mZnNldCA9IGhlYWRlcnMuc2xpY2UoaSArIDEpLmZpbmRJbmRleChmdW5jdGlvbiAoaCkgewogICAgICAgICAgICAgIHJldHVybiBoLmxldmVsID09PSByb290TGV2ZWw7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgbmV4dFJvb3RJbmRleCA9IG5leHRSb290T2Zmc2V0ID09PSAtMSA/IGhlYWRlcnMubGVuZ3RoIDogbmV4dFJvb3RPZmZzZXQgKyBpICsgMTsKICAgICAgICAgICAgdmFyIHRoaXNIZWFkZXIgPSBoZWFkZXJzW2ldOwoKICAgICAgICAgICAgaWYgKHRoaXNIZWFkZXIubGV2ZWwgPj0gcm9vdExldmVsICYmIHRoaXNIZWFkZXIubGV2ZWwgPD0gbWF4TGV2ZWwpIHsKICAgICAgICAgICAgICB2YXIgY2hpbGRIZWFkZXJzID0gaGVhZGVycy5zbGljZShpICsgMSwgbmV4dFJvb3RJbmRleCk7CiAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gcm9vdExldmVsIDwgbWF4TGV2ZWwgJiYgY2hpbGRIZWFkZXJzLmxlbmd0aCA+IDAgPyBwcm9jZXNzSGVhZGVycyhjaGlsZEhlYWRlcnMsIHJvb3RMZXZlbCArIDEpIDogbnVsbDsKICAgICAgICAgICAgICByZXN1bHQucHVzaChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXNIZWFkZXIpLCB7CiAgICAgICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4KICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGkgPSBuZXh0Um9vdEluZGV4OwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIHByb2Nlc3NIZWFkZXJzKHRoaXMuJHBhZ2UuaGVhZGVycyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgaWYgKCF0aGlzLmhlYWRlcnMpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgdmFyIHJlbmRlckhlYWRlcnMgPSBmdW5jdGlvbiByZW5kZXJIZWFkZXJzKGl0ZW1zKSB7CiAgICAgIHJldHVybiBoKCd1bCcsIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBoKCdsaScsIFtoKCdSb3V0ZXJMaW5rJywgewogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgdG86ICIjIi5jb25jYXQoaXRlbS5zbHVnKQogICAgICAgICAgfQogICAgICAgIH0sIGl0ZW0udGl0bGUpLCBpdGVtLmNoaWxkcmVuID8gcmVuZGVySGVhZGVycyhpdGVtLmNoaWxkcmVuKSA6IG51bGxdKTsKICAgICAgfSkpOwogICAgfTsKCiAgICByZXR1cm4gaCgnZGl2JywgW3JlbmRlckhlYWRlcnModGhpcy5oZWFkZXJzKV0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgVGFibGVPZkNvbnRlbnRzOw=="},{"version":3,"sources":["../../src/components/TableOfContents.ts"],"names":[],"mappings":";;;AAYA,IAAM,eAAe,GAA0B;AAC7C,EAAA,IAAI,EAAE,iBADuC;AAG7C,EAAA,KAAK,EAAE;AACL,IAAA,YAAY,EAAE;AACZ,MAAA,IAAI,EAAE,KADM;AAEZ,MAAA,QAAQ,EAAE,KAFE;AAGZ,iBAAS;AAAA,eAAgB,CAAC,CAAD,EAAI,CAAJ,CAAhB;AAAA;AAHG;AADT,GAHsC;AAW7C,EAAA,QAAQ,EAAE;AACR,IAAA,OADQ,qBACD;AACL,UAAI,KAAK,KAAL,IAAc,KAAK,KAAL,CAAW,OAA7B,EAAsC;AACpC,YAAM,QAAQ,GAAW,KAAK,YAAL,CAAkB,CAAlB,CAAzB;AACA,YAAM,QAAQ,GAAW,KAAK,YAAL,CAAkB,CAAlB,CAAzB;;AAEA,YAAM,cAAc,GAAG,SAAjB,cAAiB,CACrB,OADqB,EAGN;AAAA,cADf,SACe,uEADH,QACG;AACf,cAAM,MAAM,GAAgB,EAA5B;;AACA,eAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,KAAK,OAAO,CAAC,MAA9B,GAAwC;AACtC,gBAAM,cAAc,GAAG,OAAO,CAC3B,KADoB,CACd,CAAC,GAAG,CADU,EAEpB,SAFoB,CAEV,UAAA,CAAC;AAAA,qBAAI,CAAC,CAAC,KAAF,KAAY,SAAhB;AAAA,aAFS,CAAvB;AAGA,gBAAM,aAAa,GACjB,cAAc,KAAK,CAAC,CAApB,GAAwB,OAAO,CAAC,MAAhC,GAAyC,cAAc,GAAG,CAAjB,GAAqB,CADhE;AAEA,gBAAM,UAAU,GAAG,OAAO,CAAC,CAAD,CAA1B;;AAEA,gBAAI,UAAU,CAAC,KAAX,IAAoB,SAApB,IAAiC,UAAU,CAAC,KAAX,IAAoB,QAAzD,EAAmE;AACjE,kBAAM,YAAY,GAAG,OAAO,CAAC,KAAR,CAAc,CAAC,GAAG,CAAlB,EAAqB,aAArB,CAArB;AACA,kBAAM,QAAQ,GACZ,SAAS,GAAG,QAAZ,IAAwB,YAAY,CAAC,MAAb,GAAsB,CAA9C,GACI,cAAc,CAAC,YAAD,EAAe,SAAS,GAAG,CAA3B,CADlB,GAEI,IAHN;AAIA,cAAA,MAAM,CAAC,IAAP,CAAW,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACN,UADM,CAAA,EACI;AACb,gBAAA,QAAQ,EAAR;AADa,eADJ,CAAX;AAID;;AACD,YAAA,CAAC,GAAG,aAAJ;AACD;;AACD,iBAAO,MAAP;AACD,SA3BD;;AA4BA,eAAO,cAAc,CAAC,KAAK,KAAL,CAAW,OAAZ,CAArB;AACD;;AAED,aAAO,IAAP;AACD;AAtCO,GAXmC;AAoD7C,EAAA,MApD6C,kBAoDN,CApDM,EAoDL;AACtC,QAAI,CAAC,KAAK,OAAV,EAAmB;AACjB,aAAQ,IAAR;AACD;;AAED,QAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,KAAD,EAA8B;AAClD,aAAO,CAAC,CACN,IADM,EAEN,KAAK,CAAC,GAAN,CAAU,UAAA,IAAI;AAAA,eACZ,CAAC,CAAC,IAAD,EAAO,CACN,CAAC,CACC,YADD,EAEC;AACE,UAAA,KAAK,EAAE;AAAE,YAAA,EAAE,aAAM,IAAI,CAAC,IAAX;AAAJ;AADT,SAFD,EAKC,IAAI,CAAC,KALN,CADK,EAQN,IAAI,CAAC,QAAL,GAAgB,aAAa,CAAC,IAAI,CAAC,QAAN,CAA7B,GAA+C,IARzC,CAAP,CADW;AAAA,OAAd,CAFM,CAAR;AAeD,KAhBD;;AAiBA,WAAO,CAAC,CAAC,KAAD,EAAQ,CAAC,aAAa,CAAC,KAAK,OAAN,CAAd,CAAR,CAAR;AACD;AA3E4C,CAA/C;AA8EA,eAAe,eAAf","sourceRoot":"","sourcesContent":["const TableOfContents = {\n    name: 'TableOfContents',\n    props: {\n        includeLevel: {\n            type: Array,\n            required: false,\n            default: () => [2, 3],\n        },\n    },\n    computed: {\n        headers() {\n            if (this.$page && this.$page.headers) {\n                const minLevel = this.includeLevel[0];\n                const maxLevel = this.includeLevel[1];\n                const processHeaders = (headers, rootLevel = minLevel) => {\n                    const result = [];\n                    for (let i = 0; i !== headers.length;) {\n                        const nextRootOffset = headers\n                            .slice(i + 1)\n                            .findIndex(h => h.level === rootLevel);\n                        const nextRootIndex = nextRootOffset === -1 ? headers.length : nextRootOffset + i + 1;\n                        const thisHeader = headers[i];\n                        if (thisHeader.level >= rootLevel && thisHeader.level <= maxLevel) {\n                            const childHeaders = headers.slice(i + 1, nextRootIndex);\n                            const children = rootLevel < maxLevel && childHeaders.length > 0\n                                ? processHeaders(childHeaders, rootLevel + 1)\n                                : null;\n                            result.push(Object.assign(Object.assign({}, thisHeader), { children }));\n                        }\n                        i = nextRootIndex;\n                    }\n                    return result;\n                };\n                return processHeaders(this.$page.headers);\n            }\n            return null;\n        },\n    },\n    render(h) {\n        if (!this.headers) {\n            return null;\n        }\n        const renderHeaders = (items) => {\n            return h('ul', items.map(item => h('li', [\n                h('RouterLink', {\n                    props: { to: `#${item.slug}` },\n                }, item.title),\n                item.children ? renderHeaders(item.children) : null,\n            ])));\n        };\n        return h('div', [renderHeaders(this.headers)]);\n    },\n};\nexport default TableOfContents;\n//# sourceMappingURL=TableOfContents.js.map"]}]}